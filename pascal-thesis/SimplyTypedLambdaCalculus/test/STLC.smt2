
(declare-sort Term 0)
(declare-fun lookup (Term Term Term) Bool)
(declare-fun reduce (Term Term) Bool)
(declare-fun tcheck (Term Term Term) Bool)
(declare-fun var (Term) Term)
(declare-fun arrow (Term Term) Term)
(declare-fun bind (Term Term Term) Term)
(declare-fun fabs (Term Term Term) Term)
(declare-fun subst (Term Term Term) Term)
(declare-fun app (Term Term) Term)
(declare-fun const-e1fun () Term)
(declare-fun const-e1funred () Term)
(declare-fun const-e1arg () Term)
(declare-fun const-e1argred () Term)
(define-fun Cong-var-true () Bool (forall ((X Term) (Y Term)) (=> (= (var X) (var Y)) (= X Y))))
(define-fun Cong-var-false () Bool (forall ((X Term) (Y Term)) (=> (distinct (var X) (var Y)) (distinct X Y))))
(define-fun Cong-app-true () Bool (forall ((E1 Term) (E2 Term) (F1 Term) (F2 Term)) (=> (= (app E1 F1) (app E2 F2)) (and (= E1 E2) (= F1 F2)))))
(define-fun Cong-app-false () Bool (forall ((E1 Term) (E2 Term) (F1 Term) (F2 Term)) (=> (distinct (app E1 F1) (app E2 F2)) (or (distinct E1 E2) (distinct F1 F2)))))
(define-fun Cong-abs-true () Bool (forall ((X1 Term) (X2 Term) (T1 Term) (T2 Term) (E1 Term) (E2 Term)) (=> (= (fabs X1 T1 E1) (fabs X2 T2 E2)) (and (= X1 X2) (and (= T1 T2) (= E1 E2))))))
(define-fun Cong-abs-false () Bool (forall ((X1 Term) (X2 Term) (T1 Term) (T2 Term) (E1 Term) (E2 Term)) (=> (distinct (fabs X1 T1 E1) (fabs X2 T2 E2)) (or (distinct X1 X2) (or (distinct T1 T2) (distinct E1 E2))))))
(define-fun Cong-arrow-true () Bool (forall ((T1 Term) (U1 Term) (T2 Term) (U2 Term)) (=> (= (arrow T1 T2) (arrow U1 U2)) (and (= T1 U1) (= T2 U2)))))
(define-fun Cong-arrow-false () Bool (forall ((T1 Term) (U1 Term) (T2 Term) (U2 Term)) (=> (distinct (arrow T1 T2) (arrow U1 U2)) (or (distinct T1 U1) (distinct T2 U2)))))
(define-fun Cong-var-app () Bool (forall ((X Term) (E1 Term) (E2 Term)) (distinct (var X) (app E1 E2))))
(define-fun Cong-var-abs () Bool (forall ((X Term) (Y Term) (T Term) (E Term)) (distinct (var X) (fabs Y T E))))
(define-fun Cong-abs-app () Bool (forall ((X Term) (T Term) (E Term) (E1 Term) (E2 Term)) (distinct (fabs X T E) (app E1 E2))))
(define-fun Lookup-Base () Bool (forall ((X Term) (C Term) (T Term) (T2 Term)) (=> (lookup X (bind X T2 C) T) (= T T2))))
(define-fun Lookup-Step () Bool (forall ((X Term) (Y Term) (TY Term) (C Term) (T Term) (T2 Term)) (=> (and (distinct X Y) (lookup X C T)) (and (lookup X (bind Y TY C) T2) (= T T2)))))
(define-fun Context-Swap () Bool (forall ((C1 Term) (X2 Term) (T2 Term) (X1 Term) (T1 Term) (C2 Term)) (=> (and (distinct X1 X2) (= C1 C2)) (= (bind X1 T1 (bind X2 T2 C1)) (bind X2 T2 (bind X1 T1 C2))))))
(define-fun Context-Duplicate () Bool (forall ((T2 Term) (C1 Term) (X Term) (T1 Term) (C2 Term)) (=> (= C1 C2) (= (bind X T1 (bind X T2 C1)) (bind X T1 C2)))))
(define-fun T-Weak () Bool (forall ((X Term) (S Term) (C Term) (E Term) (T Term)) (=> (tcheck C E T) (tcheck (bind X S C) E T))))
(define-fun T-var () Bool (forall ((C Term) (X Term) (T Term)) (=> (lookup X C T) (tcheck C (var X) T))))
(define-fun T-abs () Bool (forall ((C Term) (X Term) (E Term) (S Term) (T Term)) (=> (tcheck (bind X S C) E T) (tcheck C (fabs X S E) (arrow S T)))))
(define-fun T-app () Bool (forall ((S Term) (C Term) (E1 Term) (E2 Term) (T Term)) (=> (and (tcheck C E1 (arrow S T)) (tcheck C E2 S)) (tcheck C (app E1 E2) T))))
(define-fun T-inv () Bool (forall ((E Term) (T Term) (C Term)) (=> (tcheck C E T) (or (exists ((X Term)) (and (= E (var X)) (lookup X C T))) (or (exists ((X Term) (E2 Term) (T1 Term) (T11 Term) (T2 Term)) (and (= E (fabs X T1 E2)) (and (= T (arrow T1 T2)) (and (= T1 T11) (tcheck (bind X T11 C) E2 T2))))) (exists ((E1 Term) (E2 Term) (S1 Term)) (and (= E (app E1 E2)) (and (tcheck C E1 (arrow S1 T)) (tcheck C E2 S1)))))))))
(define-fun T-subst () Bool (forall ((T Term) (C Term) (X Term) (E Term) (E2 Term) (T2 Term)) (=> (and (tcheck C E T) (tcheck (bind X T C) E2 T2)) (tcheck C (subst X E E2) T2))))
(define-fun T-Preservation-IH-app1 () Bool (forall ((C Term) (T Term)) (=> (and (tcheck C const-e1fun T) (reduce const-e1fun const-e1funred)) (tcheck C const-e1funred T))))
(define-fun T-Preservation-IH-app2 () Bool (forall ((C Term) (T Term)) (=> (and (tcheck C const-e1arg T) (reduce const-e1arg const-e1argred)) (tcheck C const-e1argred T))))
(assert Cong-var-true)
(assert Cong-var-false)
(assert Cong-app-true)
(assert Cong-app-false)
(assert Cong-abs-true)
(assert Cong-abs-false)
(assert Cong-arrow-true)
(assert Cong-arrow-false)
(assert Cong-var-app)
(assert Cong-var-abs)
(assert Cong-abs-app)
(assert Lookup-Base)
(assert Lookup-Step)
(assert Context-Swap)
(assert Context-Duplicate)
(assert T-Weak)
(assert T-var)
(assert T-abs)
(assert T-app)
(assert T-inv)
(assert T-subst)
(assert T-Preservation-IH-app1)
(assert T-Preservation-IH-app2)
(define-fun T-Preservation-beta () Bool (forall ((S Term) (X Term) (E1ARG Term) (E1BODY Term) (E1 Term) (C Term) (E2 Term) (T Term)) (=> (and (= E1 (app (fabs X S E1BODY) E1ARG)) (and (= E2 (subst X E1ARG E1BODY)) (and (tcheck C E1 T) (reduce E1 E2)))) (tcheck C E2 T))))
(define-fun T-Preservation-App1 () Bool (forall ((E1ARG Term) (E1 Term) (C Term) (E2 Term) (T Term)) (=> (and (= E1 (app const-e1fun E1ARG)) (and (reduce const-e1fun const-e1funred) (and (= E2 (app const-e1funred E1ARG)) (and (tcheck C E1 T) (reduce E1 E2))))) (tcheck C E2 T))))
(define-fun T-Preservation-App2 () Bool (forall ((E1FUN Term) (E1 Term) (C Term) (E2 Term) (T Term)) (=> (and (= E1 (app E1FUN const-e1arg)) (and (reduce const-e1arg const-e1argred) (and (= E2 (app E1FUN const-e1argred)) (and (tcheck C E1 T) (reduce E1 E2))))) (tcheck C E2 T))))
(push 1)
(assert (not T-Preservation-beta))
(check-sat)
(pop 1)
(push 1)
(assert (not T-Preservation-App1))
(check-sat)
(pop 1)
(push 1)
(assert (not T-Preservation-App2))
(check-sat)
(pop 1)
