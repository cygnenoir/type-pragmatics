module sql.PreservationProjection

import sql.BasicFunctions
import sql.Syntax
import sql.Semantics
import sql.TypeSystem
import sql.TStore
import sql.Tables
import sql.TableAux
import sql.SoundnessAuxDefs

// proof of Project-Preservation
local {
	// by structural induction on ~al

	goal
	~al = aempty
	welltypedtable(~TT, ~t)
	project(~al, ~t) == some(~pt)
	projectType(~al, ~TT) == some(~PT)
	===================================== Project-Preservation-aempty
	~TTC |- TValue(table(~al, ~pt)) : ~PT
	
}


axiom
welltypedtable(~TT, ~t)
project(~al, ~t) = some(~pt)
projectType(~al, ~TT) == some(~PT)
===================================== Project-Preservation
~TTC |- TValue(table(~al, ~pt)) : ~PT
